"use strict";(self.webpackChunknullaha_github_io=self.webpackChunknullaha_github_io||[]).push([[7551],{5938:(e,r,i)=>{i.r(r),i.d(r,{assets:()=>c,contentTitle:()=>l,default:()=>g,frontMatter:()=>a,metadata:()=>t,toc:()=>o});var n=i(4848),s=i(8453);const a={sidebar_position:1,title:"arcgis\u5f71\u50cf\u5207\u7247(\u4e0d\u9700\u8981\u53d1\u5e03\u670d\u52a1)",description:"arcgis \u5f71\u50cf\u5207\u7247(\u4e0d\u9700\u8981\u53d1\u5e03\u670d\u52a1)",date:"2024-7-19",tags:["arcmap","tile"]},l=void 0,t={id:"gis/arcgis/arcmap\u5f71\u50cf\u5207\u7247",title:"arcgis\u5f71\u50cf\u5207\u7247(\u4e0d\u9700\u8981\u53d1\u5e03\u670d\u52a1)",description:"arcgis \u5f71\u50cf\u5207\u7247(\u4e0d\u9700\u8981\u53d1\u5e03\u670d\u52a1)",source:"@site/docs/gis/arcgis/arcmap\u5f71\u50cf\u5207\u7247.mdx",sourceDirName:"gis/arcgis",slug:"/gis/arcgis/arcmap\u5f71\u50cf\u5207\u7247",permalink:"/docs/gis/arcgis/arcmap\u5f71\u50cf\u5207\u7247",draft:!1,unlisted:!1,tags:[{label:"arcmap",permalink:"/docs/tags/arcmap"},{label:"tile",permalink:"/docs/tags/tile"}],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"arcgis\u5f71\u50cf\u5207\u7247(\u4e0d\u9700\u8981\u53d1\u5e03\u670d\u52a1)",description:"arcgis \u5f71\u50cf\u5207\u7247(\u4e0d\u9700\u8981\u53d1\u5e03\u670d\u52a1)",date:"2024-7-19",tags:["arcmap","tile"]},sidebar:"gisSidebar",previous:{title:"arcigs/core 4 \u672c\u5730\u5316",permalink:"/docs/gis/arcgis/arcgiscore\u672c\u5730\u5316"},next:{title:"arcpy\u4e2dpython2.x\u7f16\u7801\u95ee\u9898",permalink:"/docs/gis/arcgis/arcpy\u4e2dpython2.x\u7f16\u7801\u95ee\u9898"}},c={},o=[{value:"\u9700\u6c42\uff1a",id:"\u9700\u6c42",level:2},{value:"\u6b65\u9aa4\uff1a",id:"\u6b65\u9aa4",level:2},{value:"1 arcmap\u52a0\u8f7d\u5f71\u50cf\u56fe",id:"1-arcmap\u52a0\u8f7d\u5f71\u50cf\u56fe",level:3},{value:"2 \u751f\u6210\u5207\u7247\u65b9\u6848",id:"2-\u751f\u6210\u5207\u7247\u65b9\u6848",level:3},{value:"3 \u5f00\u59cb\u5207\u7247",id:"3-\u5f00\u59cb\u5207\u7247",level:3},{value:"4 \u7ed3\u679c",id:"4-\u7ed3\u679c",level:3},{value:"\u4f7f\u7528?",id:"\u4f7f\u7528",level:2},{value:"arcgis/core\u52a0\u8f7d",id:"arcgiscore\u52a0\u8f7d",level:3},{value:"\u65b9\u5f0f\u4e00\uff1a\u7528geoserver\u53d1\u5e03\u7136\u540e\u4f7f\u7528",id:"\u65b9\u5f0f\u4e00\u7528geoserver\u53d1\u5e03\u7136\u540e\u4f7f\u7528",level:4},{value:"\u65b9\u5f0f\u4e8c\uff1a\u7528arcgis server\u53d1\u5e03\u7136\u540e\u4f7f\u7528",id:"\u65b9\u5f0f\u4e8c\u7528arcgis-server\u53d1\u5e03\u7136\u540e\u4f7f\u7528",level:4},{value:"\u65b9\u5f0f\u4e09\uff1anginx\u8f6c\u53d1\u4f7f\u7528",id:"\u65b9\u5f0f\u4e09nginx\u8f6c\u53d1\u4f7f\u7528",level:4}];function d(e){const r={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h2,{id:"\u9700\u6c42",children:"\u9700\u6c42\uff1a"}),"\n",(0,n.jsx)(r.p,{children:"\u7528arcgis\u5c06tif\u5f71\u50cf\u5207\u7247\uff0c\u7136\u540e\u5728geoserver\u4e2d\u53d1\u5e03wmts\u3002"}),"\n",(0,n.jsx)(r.h2,{id:"\u6b65\u9aa4",children:"\u6b65\u9aa4\uff1a"}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.a,{href:"https://blog.csdn.net/yangniceyangyang/article/details/104254494",children:"\u53c2\u8003\uff1aarcgis \u5f71\u50cf\u5207\u7247\uff0c\u4e0d\u9700\u8981\u53d1\u5e03\u670d\u52a1\uff08\u751f\u6210png\u683c\u5f0f\u6216\u8005.bundle\u683c\u5f0f\u90fd\u53ef\u4ee5\uff09\u3001\u53ef\u4e0d\u662f\u751f\u6210\u5207\u7247\u5305\u54e6"})}),"\n",(0,n.jsx)(r.h3,{id:"1-arcmap\u52a0\u8f7d\u5f71\u50cf\u56fe",children:"1 arcmap\u52a0\u8f7d\u5f71\u50cf\u56fe"}),"\n",(0,n.jsx)(r.p,{children:"\u5750\u6807\u7cfb\u4ec0\u4e48\u7684\u90fd\u8bbe\u7f6e\u597d\u3002"}),"\n",(0,n.jsx)(r.h3,{id:"2-\u751f\u6210\u5207\u7247\u65b9\u6848",children:"2 \u751f\u6210\u5207\u7247\u65b9\u6848"}),"\n",(0,n.jsx)(r.p,{children:"ArcToolbox -> Data Management Tools -> Tile Cache -> Generate Tile Cache Tiling Scheme"}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.img,{alt:"Generate Tile Cache Tiling Scheme1",src:i(1346).A+"",width:"992",height:"515"}),(0,n.jsx)(r.br,{}),"\n",(0,n.jsx)(r.img,{alt:"Generate Tile Cache Tiling Scheme2",src:i(5353).A+"",width:"992",height:"515"})]}),"\n",(0,n.jsx)(r.h3,{id:"3-\u5f00\u59cb\u5207\u7247",children:"3 \u5f00\u59cb\u5207\u7247"}),"\n",(0,n.jsx)(r.p,{children:"ArcToolbox -> Data Management Tools -> Tile Cache -> Manage Tile Cache"}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"Manage Tile Cache",src:i(434).A+"",width:"992",height:"515"})}),"\n",(0,n.jsx)(r.h3,{id:"4-\u7ed3\u679c",children:"4 \u7ed3\u679c"}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"\u7ed3\u679c",src:i(4594).A+"",width:"624",height:"233"})}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsx)(r.h2,{id:"\u4f7f\u7528",children:"\u4f7f\u7528?"}),"\n",(0,n.jsx)(r.h3,{id:"arcgiscore\u52a0\u8f7d",children:"arcgis/core\u52a0\u8f7d"}),"\n",(0,n.jsx)(r.h4,{id:"\u65b9\u5f0f\u4e00\u7528geoserver\u53d1\u5e03\u7136\u540e\u4f7f\u7528",children:"\u65b9\u5f0f\u4e00\uff1a\u7528geoserver\u53d1\u5e03\u7136\u540e\u4f7f\u7528"}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.a,{href:"https://nullaha.github.io//docs/gis/geoserver/geoserver%E5%8F%91%E5%B8%83%E5%9B%BE%E5%B1%82%E6%9C%8D%E5%8A%A1#geoserver-%E5%8F%91%E5%B8%83wmts%E6%9C%8D%E5%8A%A1geoserver-%E5%8F%91%E5%B8%83arcmap%E5%88%87%E7%89%87-",children:"\u7528geoserver\u53d1\u5e03\u7136\u540e\u4f7f\u7528"})}),"\n",(0,n.jsx)(r.h4,{id:"\u65b9\u5f0f\u4e8c\u7528arcgis-server\u53d1\u5e03\u7136\u540e\u4f7f\u7528",children:"\u65b9\u5f0f\u4e8c\uff1a\u7528arcgis server\u53d1\u5e03\u7136\u540e\u4f7f\u7528"}),"\n",(0,n.jsx)(r.p,{children:"TODO:"}),"\n",(0,n.jsx)(r.h4,{id:"\u65b9\u5f0f\u4e09nginx\u8f6c\u53d1\u4f7f\u7528",children:"\u65b9\u5f0f\u4e09\uff1anginx\u8f6c\u53d1\u4f7f\u7528"}),"\n",(0,n.jsx)(r.p,{children:"arcmap\u5f71\u50cf\u5207\u7247\uff0c\u901a\u8fc7nginx\u8f6c\u53d1_alllayers\u4e2d\u4fdd\u5b58\u7684\u5207\u7247\u3002\u4f7f\u7528arcgis for js4 \u52a0\u8f7d\u8be5\u5207\u7247\u3002\u7528WebTileLayer\u7c7b\uff0c\u4f46\u662f\u9700\u8981\u6839\u636elevel\uff0crow\uff0ccol\uff0c\u6765\u83b7\u53d6\u8be5\u5207\u7247\u7684nginx\u91cc\u7684\u5730\u5740\uff0c\u6240\u4ee5\u662f\u8981\u4fee\u6539WebTileLayer\u6e90\u7801\u3002"}),"\n",(0,n.jsx)(r.p,{children:"\u4ece_alllayers\u6587\u4ef6\u5939\u770b\uff0c\u5207\u7247\u4fdd\u5b58\u5f62\u5f0f\u662f L04, R00000004, C00000019.png"}),"\n",(0,n.jsxs)(r.p,{children:["\u5f71\u50cf\u5207\u7247\u6587\u4ef6\u540d\u4e0d\u662f\u6807\u51c6\u7684 ",(0,n.jsx)(r.code,{children:"{level}/{row}/{col}.png"})," \u683c\u5f0f\uff0c\u800c\u662f\u81ea\u5b9a\u4e49\u7684\u547d\u540d\u65b9\u5f0f\uff08\u5982\u56fe\u6240\u793a\uff09\u3002\n\u4e3a\u4e86\u5904\u7406\u8fd9\u79cd\u60c5\u51b5\uff0c\u9700\u8981\u81ea\u5b9a\u4e49 URL \u751f\u6210\u903b\u8f91\u3002\u4e0d\u5fc5\u4fee\u6539 WebTileLayer \u7684\u6e90\u7801\uff0c\u76f4\u63a5\u4f7f\u7528\u7ee7\u627f\u7c7b\u7684\u65b9\u5f0f\u8986\u76d6 getTileUrl \u65b9\u6cd5\uff0c\u6765\u751f\u6210\u81ea\u5b9a\u4e49\u7684 URL\u3002"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-js",children:"import WebTileLayer from '@arcgis/core/layers/WebTileLayer.js';\nimport TileInfo from '@arcgis/core/layers/support/TileInfo';\nimport { replace } from '@arcgis/core/core/string.js';\nexport default class NginxWebTileLayer extends WebTileLayer {\n    constructor(e) {\n        super(e);\n        // this.urlTemplate = e.urlTemplate;\n        // this.tileInfo = new TileInfo(e.tileInfo);\n        // this.id = e.id;\n        // this.spatialReference = this.tileInfo.spatialReference;\n    }\n    getTileUrl(e, t, r) {\n        const { levelValues: l, tileServers: s, urlPath: i } = this;\n        if (!l || !s || !i) return '';\n        let n = l[e];\n\n        n = 'L' + StringUtil.pad(n, 2, '0').toUpperCase();\n        t = 'R' + StringUtil.pad(t.toString(16), 8, '0').toUpperCase();\n        r = 'C' + StringUtil.pad(r.toString(16), 8, '0').toUpperCase();\n\n        let url = s + replace(i, { level: n, z: n, col: r, x: r, row: t, y: t });\n        return url + '.png';\n    }\n}\n\n"})})]})}function g(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},434:(e,r,i)=>{i.d(r,{A:()=>n});const n=i.p+"assets/images/\u5f00\u59cb\u5207\u7247-9a73faa42ae1f1005309ae0d7d8160d0.png"},1346:(e,r,i)=>{i.d(r,{A:()=>n});const n=i.p+"assets/images/\u751f\u6210\u5207\u7247\u65b9\u68481-5090e9270a01997f28cd27105bbed558.png"},5353:(e,r,i)=>{i.d(r,{A:()=>n});const n=i.p+"assets/images/\u751f\u6210\u5207\u7247\u65b9\u68482-0fec962843613c41fe557942d0a4c68f.png"},4594:(e,r,i)=>{i.d(r,{A:()=>n});const n=i.p+"assets/images/\u7ed3\u679c-90ffd68bf15e5e785fb8c21482c69f81.png"},8453:(e,r,i)=>{i.d(r,{R:()=>l,x:()=>t});var n=i(6540);const s={},a=n.createContext(s);function l(e){const r=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),n.createElement(a.Provider,{value:r},e.children)}}}]);